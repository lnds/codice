{% extends 'codice/base_home.html' %}
{% load static %}
{% load i18n %}
{% load gravatar %}
{% load humanize %}
{% load mathfilters %}
{% load boxes %}
{% block content_body %}
    <h2 class="page-title"><i class="fas fa-columns"></i> {% trans 'Dashboard' %}</h2>
    {% if repo_count == 0 %}
        <section class="widget">
            <div class="body">
                <div class="jumbotron">
                    <h2>{% trans 'No repository found' %}</h2>
                    <p class="lead">{% trans 'You have not created any repository yet' %}</p>
                    <p class="lead">
                        <a class="btn btn-primary btn-lg" href="{% url 'repository-add' %}" role="button">
                            <i class="fa fa-plus-circle"></i> <small>{% trans 'Add Repository' %}</small>
                        </a>
                    </p>
                </div>
            </div>
        </section>
    {% else %}
          <div class="row">
            <div class="col-md-6">
                <div class="row">
                    <a href="{% url 'repos' %}">
                        {% if repo_count == 1 %}
                            {% icon_box 'col-md-3' 'fas fa-archive text-warning' 'text-warning' repo_count|intcomma 'repository' %}
                        {% else %}
                            {% icon_box 'col-md-3' 'fas fa-archive text-warning' 'text-warning' repo_count|intcomma 'repositories' %}
                        {% endif %}
                    </a>
                    <a href="{% url 'files' %}">
                        {% if file_count == 1 %}
                            {% icon_box 'col-md-3' 'fas fa-file-code text-gray-lighter' 'text-gray-lighter' file_count|intcomma 'file' %}
                        {% else %}
                            {% icon_box 'col-md-3' 'fas fa-file-code text-gray-lighter' 'text-gray-lighter' file_count|intcomma 'files' %}
                        {% endif %}
                    </a>
                    <a href="{% url 'devs' %}">
                        {% if dev_count == 1 %}
                            {% icon_box 'col-md-3' 'fas fa-users text-info' 'text-info' dev_count|intcomma 'dev' %}
                        {% else %}
                            {% icon_box 'col-md-3' 'fas fa-users text-info' 'text-info' dev_count|intcomma 'devs' %}
                        {% endif %}
                    </a>
                    <a href="{% url 'commits' %}">
                        {% if commit_count == 1 %}
                            {% icon_box 'col-md-3' 'far fa-dot-circle text-success' 'text-success' commit_count 'commit' %}
                        {% else %}
                            {% icon_box 'col-md-3' 'far fa-dot-circle text-success' 'text-success' commit_count|intcomma 'commits' %}
                        {% endif %}
                    </a>
                </div>
            </div>
            <div class="col-md-6">
                    <div class="row">
                        {% icon_box 'col-md-3' 'far fa-calendar-alt text-warning' 'text-warning' min_date|timesince:max_date '' %}
                        {% big_text_box 'col-md-3' '' 'text-white' 'description' commits_in_last_week 'commits in last week' %}
                        {% big_text_box 'col-md-3' '' 'text-white' 'description' net_lines_in_last_week 'net loc in last week' %}
                         {% icon_box 'col-md-3' 'fas fa-chart-bar text-success' 'text-success' 'devs board' ''%}
                    </div>
            </div>
          </div>
    {% endif %}
{% endblock content_body %}
{% block top_actions %}
    {% include 'repository/blocks/add_repo_top_action.html' %}
    <li class="divider"></li>
    <li>&nbsp;</li>

{% endblock %}
{% block breadcrumb_path %}
        <a href="{% url 'home' %}"><span class="text-gray-lighter">{% trans 'home' %}</span></a> /
{% endblock breadcrumb_path %}